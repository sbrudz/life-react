(this["webpackJsonplife-react"]=this["webpackJsonplife-react"]||[]).push([[0],[,,,function(e,n,t){e.exports={table:"grid_table__3nmRR",live:"grid_live__2m_n1",dead:"grid_dead__3kI9j"}},,function(e,n,t){e.exports={main:"app_main__3yfFw",body:"app_body__nzo0i",header:"app_header__3NHfP",rules:"app_rules__2-hnj"}},function(e,n,t){e.exports={section:"game_section__2VU5z",side:"game_side__3zO36"}},,,function(e,n,t){e.exports={rules:"rules_rules__3nzLY"}},,,,,,function(e,n,t){},,function(e,n,t){"use strict";t.r(n);var r=t(1),c=t(8),i=t.n(c),o=(t(15),t(5)),a=t.n(o),l=t(6),u=t.n(l),s=t(3),d=t.n(s),h=t(0),j=function(e){var n=e.grid,t=e.onClick,r=100/n.length,c=0,i=n.map((function(e,n){var i=100/e.length,o=0,a=e.map((function(e,a){var l="cell-".concat(n,"-").concat(a),u=Object(h.jsx)("rect",{height:"".concat(r,"%"),width:"".concat(i,"%"),x:"".concat(o,"%"),y:"".concat(c,"%"),"data-testid":l,className:e?d.a.live:d.a.dead,onClick:function(){return t({row:n,column:a})}},l);return o+=i,u}));return c+=r,a}));return Object(h.jsx)("svg",{"data-testid":"Grid",className:d.a.table,children:i})},b=t(10),f=t(2),g=function(e,n,t){var r=e[n][t],c=p(e,{row:n,column:t});return(!r||!(c<2||c>3))&&!(!r&&3!==c)},p=function(e,n){for(var t,r,c=0,i={row:0,column:0},o=0;o<e.length;o++)for(var a=0;a<e[o].length;a++)i.row=o,i.column=a,!e[o][a]||(r=i,(t=n).row===r.row&&t.column===r.column||r.row!==t.row-1&&r.row!==t.row&&r.row!==t.row+1||r.column!==t.column-1&&r.column!==t.column&&r.column!==t.column+1)||(c+=1);return c},v=t(7),O=function(e,n){return n?e+1:e},m="Invalid grid. Unable to encode grid state.",_=function(e){if(null===e||0===e.length||0===e[0].length)throw new Error(m);var n=e.length*e.length,t=new Array(n+1);t[0]="1";for(var r=1,c=0;c<e.length;c++)for(var i=0;i<e[c].length;i++)t[r]=e[c][i]?"1":"0",r++;var o=t.join("");return Object(v.compressToEncodedURIComponent)(o)},x="TOGGLE_CELL",w="RESIZE_GRID",y="EVOLVE_NEXT_GENERATION",C="START_GAME",E="STOP_GAME",z="CLEAR_GAME",k=function(){return{type:y,payload:{}}},N=function(e){if(e<=0)throw new RangeError("The size must be greater than 0");for(var n=[],t=0;t<e;t++){for(var r=[],c=0;c<e;c++)r.push(!1);n.push(r)}return{grid:n,running:!1,initCode:_(n)}},A=function(e,n){switch(n.type){case x:var t=e.grid.map((function(e){return e.slice()})),r=n.payload.cellLocation,c=r.row,i=r.column;t[c][i]=!e.grid[c][i];var o=_(t);return Object(f.a)(Object(f.a)({},e),{},{grid:t,initCode:o});case w:return N(n.payload.newSize);case y:var a=function(e){for(var n=[],t=0;t<e.length;t++){for(var r=[],c=0;c<e[t].length;c++){var i=g(e,t,c);r.push(i)}n.push(r)}return n}(e.grid);return Object(f.a)(Object(f.a)({},e),{},{grid:a});case C:return Object(f.a)(Object(f.a)({},e),{},{running:!0});case E:return Object(f.a)(Object(f.a)({},e),{},{running:!1});case z:return N(e.grid.length);default:throw new Error("Unrecognized action type")}},G=function(e){var n=Object(r.useReducer)(A,e,N),t=Object(b.a)(n,2),c=t[0],i=t[1],o=c.grid,a=c.running,l=o.length,u=function(e,n){return e.reduce(function(e){return function(n,t){return t.reduce(e,n)}}(n),0)}(o,O);return Object(r.useEffect)((function(){var e;if(a)return e=setInterval((function(){i(k())}),100),function(){clearInterval(e)}}),[a,i]),{size:l,grid:o,running:a,liveCellCount:u,dispatch:i}},R=t(9),I=t.n(R),L=function(){return Object(h.jsxs)("section",{className:I.a.rules,children:[Object(h.jsx)("h2",{children:"Rules"}),Object(h.jsxs)("ol",{children:[Object(h.jsx)("li",{children:"Any live cell with fewer than two live neighbours dies, as if by underpopulation."}),Object(h.jsx)("li",{children:"Any live cell with two or three live neighbours lives on to the next generation."}),Object(h.jsx)("li",{children:"Any live cell with more than three live neighbours dies, as if by overpopulation."}),Object(h.jsx)("li",{children:"Any dead cell with exactly three live neighbours becomes a live cell, as if by reproduction."})]})]})},T=function(e){var n=e.running,t=e.dispatch,r=e.liveCellCount;return Object(h.jsxs)("div",{className:"btn-grp",children:[Object(h.jsx)("button",{disabled:n,onClick:function(){return t({type:C,payload:{}})},children:"Play"}),Object(h.jsx)("button",{disabled:!n,onClick:function(){return t({type:E,payload:{}})},children:"Stop"}),Object(h.jsx)("button",{disabled:n,onClick:function(){return t(k())},children:"Step"}),Object(h.jsx)("button",{disabled:0===r,onClick:function(){return t({type:z,payload:{}})},children:"Clear"})]})},S=function(){var e=G(20),n=e.size,t=e.grid,r=e.running,c=e.liveCellCount,i=e.dispatch;return Object(h.jsxs)("section",{className:u.a.section,children:[Object(h.jsx)("h2",{children:"Game"}),Object(h.jsx)(j,{grid:t,onClick:function(e){return i(function(e){return{type:x,payload:{cellLocation:e}}}(e))}}),Object(h.jsxs)("section",{className:u.a.side,children:[Object(h.jsx)("p",{children:"Click cells on the grid to create a starting pattern. Then click Play to start the game."}),Object(h.jsx)(T,{running:r,liveCellCount:c,dispatch:i}),Object(h.jsxs)("fieldset",{children:[Object(h.jsx)("label",{htmlFor:"size",children:"Grid Size"}),Object(h.jsx)("input",{type:"number",id:"size",value:n,onChange:function(e){return i((n=+e.target.value,{type:w,payload:{newSize:n}}));var n}})]}),Object(h.jsx)(L,{})]})]})},P=function(){return Object(h.jsxs)("div",{className:a.a.main,children:[Object(h.jsx)("header",{className:a.a.header,children:Object(h.jsx)("h1",{children:"Conway's Game of Life"})}),Object(h.jsx)(S,{})]})};i.a.render(Object(h.jsx)(P,{}),document.getElementById("root"))}],[[17,1,2]]]);
//# sourceMappingURL=main.bc489647.chunk.js.map